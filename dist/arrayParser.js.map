{"version":3,"sources":["webpack:///webpack/bootstrap 49b38fbacb7418e83f6a","webpack:///./src/parsers/arrayPathParser.js","webpack:///./src/parsers/parserc/parser.js","webpack:///./src/parsers/parserc/state.js"],"names":["leftParen","rightParen","quote","quotes","identifer","result","ast","type","value","join","identiferKey","stringKey","state","remaining","matched","pointKey","console","log","parenKey","getExpresion","object","keys","evalArrayPathObject","pathStr","ctx","currentValue","evalValue","forEach","key","ch","token","ignoreWhitespace","range","sequence","wsequence","choice","not","optional","repeat1","action","toParser","p","makeResult","c","r","length","at","advance","str","substring","trimLeft","lower","upper","parsers","i","arguments","push","j","parser","undefined","apply","f","parseState","State","input","index","rested","pos","col","row","num","s","m","match","start","charAt"],"mappings":"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","file":"arrayParser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 49b38fbacb7418e83f6a","import {\n    ch, token,\n    range,\n    sequence,\n    wsequence,\n    choice,\n    repeat1,\n    action\n} from './parserc/parser.js';\n\nimport ps from './parserc/state.js';\n\n/**\n * the parser for array path\n */\n\n/**\n * atom parser\n */\nfunction leftParen () {\n    return ch('[');\n}\n\nfunction rightParen () {\n    return ch(']');\n}\n\nfunction quote () {\n    return ch(\"'\");\n}\n\nfunction quotes () {\n    return ch('\"');\n}\n\n/**\n * identifer parser\n * array name\n * a-z/A-Z/[_]\n */\nfunction identifer () {\n    let result = repeat1(\n                choice(\n                        range('a', 'z'),\n                        range('A', 'Z'),\n                        ch('_'),\n                        ch('$')\n                    )            \n                );\n    return action(result, function(ast){\n        return {\n                type: 'identifer',\n                value: ast.join('')\n            };\n    });\n}\n\n/**\n * identifer key\n */\nfunction identiferKey () {\n    let result = identifer();\n\n    return action(result, function (ast) {\n        return {\n            type: 'identiferKey',\n            value: ast.value\n        };\n    });\n}\n\n/**\n * string key\n * 'key'/\"key\"\n */\nfunction stringKey () {\n    return function (state) {\n        let result = choice(\n                sequence(\n                        quote(),\n                        identifer(),\n                        quote()\n                    ),\n                sequence(\n                        quotes(),\n                        identifer(),\n                        quotes()\n                    )\n            )(state);\n\n        if (!result) return false;\n    \n        return {\n            remaining: result.remaining,\n            matched: result.matched,\n            ast: {\n                type: 'stringKey',\n                value: result.ast[1]\n            }\n        };\n    };\n}\n\nfunction pointKey () {\n    return function (state) {\n        let result = sequence(\n                        ch('.'),\n                        identiferKey()\n                    )(state);\n        console.log('pointKey: ', result);\n\n        if (!result) return false;\n        return {\n            remaining: result.remaining,\n            matched: result.matched,\n            ast: {\n                type: 'pointKey',\n                value: result.ast[1]\n            }\n        };\n    };\n}\n\nfunction parenKey () {\n    return function (state) {\n        let result = sequence(\n                        leftParen(),\n                        choice(\n                            identiferKey(),\n                            stringKey()//,\n                            //getExpresion()\n                            ),\n                        rightParen()\n                        )(state);\n\n        console.log('parenKey: ', result);\n        if (!result) return false;\n\n        return {\n            remaining: result.remaining,\n            matched: result.matched,\n            ast: {\n                type: 'parenKey',\n                value: result.ast[1]\n            }\n        };\n    };\n}\n\n/**\n * object get expression\n */\nfunction getExpresion () {\n    let result = sequence(\n            identifer(),\n            repeat1(\n                choice(\n                    parenKey(),\n                    pointKey()\n                )\n            )\n        );\n\n    return action(result, function (ast) {\n        return {\n            type: 'getterExpression',\n            value: {\n                object: ast[0],\n                keys: ast[1]\n            }\n        };\n    });\n}\n\n/**\n * arrayParser\n */\nfunction evalArrayPathObject (pathStr, ctx) {\n    let currentValue = null,\n        ast = getExpresion()(ps(pathStr)).ast;\n\n    if (ast) {\n        evalValue(ast);\n    }\n\n    return currentValue;\n\n    function evalValue (ast) {\n        if (ast.type == 'getterExpression') {\n            currentValue = ctx[ast.value.object.value];\n            ast.value.keys.forEach((key)=>{\n                if (key.value.type === 'identiferKey') {\n                    currentValue = currentValue[ctx[key.value.value]];\n                } else {\n                    currentValue = currentValue[key.value.value.value];\n                }\n            });\n        }\n    }\n}\n\n/*\nlet ctx = {\n    person: {\n        age: 18,\n        name: 'yang',\n        info: {\n            height: 170\n        }\n    },\n    key: 'info'\n}\n\nlet val = evalArrayPathObject('person[key][\"height\"]', ctx);\n\nconsole.log('val: ', val);\n*/\nexport {\n    evalArrayPathObject\n};\n\n//console.log(stringKey()(ps('\"item\"')));\nconsole.log('getter: ', getExpresion()(ps('obj[a]')));\nconsole.log(parenKey()(ps('[obj[a]]')));\nconsole.log('getter: ', getExpresion()(ps('obj[info][age][\"weight\"]')));\n//console.log('complex: ', complexGetExpression()(ps('person[name][info][obj[\"name\"]]')));\n\n\n// WEBPACK FOOTER //\n// ./src/parsers/arrayPathParser.js","/**\n * @privite\n */\n\nfunction toParser (p) {\n    return typeof(p) == 'string' ? token(p) : p;\n}\n\nfunction makeResult (remaining, matched, ast) {\n    return {\n        remaining: remaining,\n        matched: matched,\n        ast: ast\n    };\n}\n\n/**\n * primitive parsers\n */\nexport function ch (c) {\n    return function (state) {\n        let r = state.length >= 1 && state.at(0) == c;\n        if (r) {\n            return {\n                remaining: state.advance(1),\n                matched: c,\n                ast: c\n            };\n        } else {\n            //console.warn('expect ' + c + ', but get ' + state.at(0) + ' at ' + state.index + '.');\n            return false;\n        }\n    };\n}\n\nexport function token (str) {\n    return function (state) {\n        let r = state.length >= str.length && state.substring(0, str.length) == str;\n\n        if (r) {\n            return {\n                remaining: state.advance(str.length),\n                matched: str,\n                ast: str\n            };\n        } else {\n            return false;\n        }\n    };\n}\n\nexport function ignoreWhitespace (p) {\n    p = toParser(p);\n\n    return function (state) {\n        return p(state.trimLeft());\n    };\n}\n\nexport function range (lower, upper) {\n    return function (state) {\n        if (state.length < 1) {\n            return false;\n        } else {\n            var ch = state.at(0);\n            if (ch >= lower && ch <= upper) {\n                return {\n                    remaining: state.advance(1),\n                    matched: ch,\n                    ast: ch\n                };\n            } else {\n                return false;\n            }\n        }\n    };\n}\n\n\nexport function sequence () {\n    var parsers = [];\n    for (var i=0; i<arguments.length; i++) {\n        parsers.push(toParser(arguments[i]))\n    }\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = {};\n        var j = 0;\n        for (j=0; j<parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n            if (result) {\n                state = result.remaining;\n                if (result.ast != undefined) {\n                    ast.push(result.ast);\n                    matched = matched + result.matched;\n                }\n            } else {\n                break;\n            }\n        }\n        if (j == parsers.length) {\n            return makeResult(result.remaining, matched, ast);\n        } else {\n            return false;\n        }\n    };\n}\n\n/**\n * Like sequence, but ignores whitespace between individual parsers.\n*/\nexport function wsequence() {\n    var parsers = [];\n    for(var i=0; i < arguments.length; ++i) {\n        parsers.push(ignoreWhitespace(toParser(arguments[i])));\n    }\n    return sequence.apply(null, parsers);\n}\n\nexport function choice () {\n    var parsers = [];\n    for(var i = 0; i < arguments.length; ++i)\n        parsers.push(toParser(arguments[i]));\n\n    return function (state) {\n        var j;\n        var result;\n        for (j=0; j<parsers.length; j++) {\n            var parser = parsers[j];\n            result = parser(state);\n\n            if (result) {\n                break;\n            }\n        }\n\n        if (j == parsers.length) {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nexport function not (p) {\n    p = toParser(p);\n\n    return function(state){\n        let result = false;\n        if (state.length >= 1) {\n            if (!p(state)) {\n                result = makeResult(state.advance(1), state.at(0), state.at(0));\n            }\n        }\n\n        return result;\n    };\n}\n\nexport function optional (p) {\n    p = toParser(p);\n\n    return function(state){\n        \n    };\n}\n\nexport function repeat1 (p) {\n    p = toParser(p);\n\n    return function (state) {\n        var ast = [];\n        var matched = '';\n        var result = p(state);\n\n        if (result) {\n            while (result) {\n                ast.push(result.ast);\n                matched = matched + result.matched;\n\n                state = result.remaining;\n                result = p(state);\n            }\n            result = makeResult(state, matched, ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}\n\nexport function action (p, f) {\n    p = toParser(p);\n\n    return function (state) {\n        var result = p(state);\n\n        if (result) {\n            result.ast = f(result.ast);\n        } else {\n            return false;\n        }\n\n        return result;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/parsers/parserc/parser.js","class State {\n    constructor(input){\n        this.input = input;\n        this.index = 0;\n        this.matched = '';\n        this.rested = this.input;\n        this.length = this.rested.length;\n        this.pos = {\n            col: 0,\n            row: 0\n        };\n    }\n\n    advance (num) {\n        this.index += num;\n        this.matched += this.rested.substring(0, num);\n        this.rested = this.rested.substring(num);\n        this.length = this.rested.length;\n\n        this.pos.col += num;\n\n        return this;\n    }\n\n    trimLeft () {\n        let s = this.rested;\n        let m = s.match(/^\\s+/);\n\n        if (m) {\n            this.advance(m[0].length);\n            this.pos.col += m[0].length;\n        }\n\n        return this;\n    }\n\n    posMsg () {\n        return 'col: ' + this.pos.col + ', row: ' + this.pos.row;\n    }\n\n    substring (start, length) {\n        return this.rested.substring(start, length);\n    }\n\n    at (index) {\n        return this.rested.charAt(index);\n    }\n}\n\nexport default function parseState (str) {\n    return new State(str);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/parsers/parserc/state.js"],"sourceRoot":""}